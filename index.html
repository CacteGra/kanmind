<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>KanMind</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <header class="header">
            <div class="header-container">
                <h1>KanMind</h1>
                <div class="board-title-area">
                    <h2 id="boardName"></h2>
                    <div class="boards-button-div">
                        <input id="check02" class="main-list-board" type="checkbox" name="submenu" />
                        <label  for="check02" onclick="boards.listAllBoards()">

                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20" width="20">
                                <path fill="#FFFFFF" d="M128 192l128 128 128-128z"/>
                            </svg>

                            </label>
                        <ul class="submenu" id="boardsListing">
                        </ul>
                    </div>
                </div>
                <div class="header-content">
                    <div class="main-buttons-div">
                    <button class="main-add add-task-btn" id="addTask" onclick="addNewTaskModal('todo')">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Task
                    </button>
                    <input id="check01" class="main-add-board" type="checkbox" name="submenu" />
                    <label  for="check01" onclick="boards.addOverlay()">

                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20" width="20">
                            <path fill="#FFFFFF" d="M128 192l128 128 128-128z"/>
                        </svg>

                        </label>
                    <ul class="submenu" onclick="boards.createBoard()">
                        Add board
                    </ul>
                    </div>
                </div>
            </div>
        </header>
        <div class="kanban-container">
            <div class="board" id="kanban-board">
                <div class="column" data-status="todo">
                    <div class="column-header">
                        <h2 class="column-title">ðŸ“‹ To Do</h2>
                        <span class="task-count" id="todo-count">0</span>
                    </div>
                    <div class="tasks repertory" id="todo-tasks"></div>
                    <button class="add-task-btn" onclick="addNewTaskModal('todo')">
                        <span class="plus-icon">+</span>
                        Add New Task
                    </button>
                </div>

                <div class="column" data-status="inprogress">
                    <div class="column-header">
                        <h2 class="column-title">ðŸ”„ In Progress</h2>
                        <span class="task-count" id="inprogress-count">0</span>
                    </div>
                    <div class="tasks repertory" id="inprogress-tasks"></div>
                    <button class="add-task-btn" onclick="addNewTaskModal('inprogress')">
                        <span class="plus-icon">+</span>
                        Add New Task
                    </button>
                </div>

                <div class="column" data-status="review">
                    <div class="column-header">
                        <h2 class="column-title">ðŸ‘€ Review</h2>
                        <span class="task-count" id="review-count">0</span>
                    </div>
                    <div class="tasks repertory" id="review-tasks"></div>
                    <button class="add-task-btn" onclick="addNewTaskModal('review')">
                        <span class="plus-icon">+</span>
                        Add New Task
                    </button>
                </div>

                <div class="column" data-status="done">
                    <div class="column-header">
                        <h2 class="column-title">âœ… Done</h2>
                        <span class="task-count" id="done-count">0</span>
                    </div>
                    <div class="tasks repertory" id="done-tasks"></div>
                    <button class="add-task-btn" onclick="addNewTaskModal('done')">
                        <span class="plus-icon">+</span>
                        Add New Task
                    </button>
                </div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="total-tasks">0</div>
                    <div class="stat-label">Total Tasks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completed-tasks">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="progress-percent">0%</div>
                    <div class="stat-label">Progress</div>
                </div>
            </div>
        </div>
    <!-- Modal for Adding New Tasks -->
    <div class="modal-overlay" id="taskModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">âœ¨ Add New Task</h3>
                <button class="modal-close" onclick="closeTaskModal()">&times;</button>
            </div>
            
            <form id="taskForm">
                <div class="form-group">
                    <label class="form-label" for="taskTitle">Task Title *</label>
                    <input type="text" id="taskTitle" class="form-input" required placeholder="Enter task title...">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="taskDescription">Description</label>
                    <textarea id="taskDescription" class="form-textarea" placeholder="Describe the task details..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Priority</label>
                    <div class="priority-options">
                        <div class="priority-option high" data-priority="high">
                            ðŸ”´ High
                        </div>
                        <div class="priority-option medium selected" data-priority="medium">
                            ðŸŸ¡ Medium
                        </div>
                        <div class="priority-option low" data-priority="low">
                            ðŸŸ¢ Low
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="taskAssignee">Assignee</label>
                    <input type="text" id="taskAssignee" class="form-input" placeholder="Enter assignee name...">
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeTaskModal()">
                        Cancel
                    </button>
                    <button type="submit" class="btn btn-primary">
                        âž• Add Task
                    </button>
                </div>
            </form>
        </div>
    </div>
        <div class="section-limit">
        <section id="editTaskModal" class="modal hide">
            <div class="tasks">
                <div class="innerModal" id="innerEditModal" data-task-id="">
                    <div class="task-title"><input id="editTitleValue" placeholder="Title" autofocus></div>
                    <div class="task-description"><input id="editDescriptionValue" placeholder="Description"></div>
                    <div class="">
                        <label class="task-priority" for="priority">Priority:</label><br />
                        <input type="range" min="0" max="2" id="editPriorityValue" name="priority" list="values">

                        <datalist id="values">
                            <option value="0" label="low">low</option>
                            <option value="1" label="medium">medium</option>
                            <option value="2" label="high">high</option>
                        </datalist>
                    </div>
                    <div class="task-meta">
                    <input id="editAuthorValue" placeholder="Author">
                    </div>
                    <input id="editStatus" type="hidden" value="">
                </div>
                <button class="btn btn-submit" id="editModalSubmit" name="" onclick="editTask(this)">Submit</button>
                <button class="btn btn-cancel" id="cancelEdit">Cancel</button>
            </div>
        </section>
        <section id="newBoardModal" class="modal hide">
            <div class="tasks">
                <div class="innerModal" id="innerBoardModal" data-task-id="">
                    <div class="task-title"><input id="boardTitleValue" placeholder="Title" autofocus></div>
                </div>
                <button class="btn btn-submit" id="boardModalSubmit" name="" onclick="boards.newBoardSubmit(this)">Submit</button>
                <button class="btn btn-cancel" id="cancelNewBoard">Cancel</button>
            </div>
        </section>
    </div>

        <div id="modalOverlay" class="overlay hide"></div>
        
        <script src="js-files/boards.js"></script>
        <script src="js-files/persistence.js"></script>
        <script src="js-files/tasks.js"></script>
        

</body>
</html>